<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Build Options · cuNumeric.jl</title><meta name="title" content="Build Options · cuNumeric.jl"/><meta property="og:title" content="Build Options · cuNumeric.jl"/><meta property="twitter:title" content="Build Options · cuNumeric.jl"/><meta name="description" content="Documentation for cuNumeric.jl."/><meta property="og:description" content="Documentation for cuNumeric.jl."/><meta property="twitter:description" content="Documentation for cuNumeric.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">cuNumeric.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../install/">Build Options</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../perf/">Performance Tips</a></li><li><a class="tocitem" href="../usage/">Back End Details</a></li><li><a class="tocitem" href="../benchmark/">Benchmarking</a></li><li><a class="tocitem" href="../api/">Public API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Build Options</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Build Options</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ejmeitz/cuNumeric.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ejmeitz/cuNumeric.jl/blob/main/docs/src/install_1.11.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Build-Options"><a class="docs-heading-anchor" href="#Build-Options">Build Options</a><a id="Build-Options-1"></a><a class="docs-heading-anchor-permalink" href="#Build-Options" title="Permalink"></a></h1><p>To make customization of the build options easier we have the <code>CNPreferences.jl</code> package to generate the <code>LocalPreferences.toml</code> which is read by the build script to determine which build option to use. CNPreferences.jl will also enforce that Julia is restarted for changes to take effect. This module is not needed by the default build path or once your <code>LocalPreferences.toml</code> is configured.</p><p><code>CNPreferences</code> is a separate module so that it can be used to configure the build settings before <code>cuNumeric.jl</code> is added to your environment. To install it separately run</p><pre><code class="language-julia hljs">using Pkg; Pkg.add(url = &quot;https://github.com/ejmeitz/cuNumeric.jl&quot;, subdir=&quot;lib/CNPreferences&quot;)</code></pre><p>You can also avoid installing <code>CNPreferences</code> and manually manage your <code>LocalPreferences.toml</code>. The file should look something like this:</p><pre><code class="nohighlight hljs">[CNPreferences]
conda_jl_env = &quot;cupynumeric&quot;
mode = &quot;local_env&quot;
user_env = &quot;/home/emeitz/.conda/envs/cunumeric-gpu&quot;</code></pre><p>The mode can either be &quot;local<em>env&quot; or &quot;conda</em>jl&quot;. If <code>mode</code> is set to &quot;local<em>env&quot; then `user</em>env<code>must be the absolute path to your local conda environment (e.g., the value of CONDA_PREFIX when your environment is active) and</code>conda<em>jl</em>env<code>will be ignored. If</code>mode<code>is set to</code>conda<em>jl<code>then Conda.jl is used to create an environment with the name set by</code>conda</em>jl<em>env<code>. By default,</code>conda</em>jl_env` is cupynumeric. </p><h2 id="Default-Build-(Conda.jl)"><a class="docs-heading-anchor" href="#Default-Build-(Conda.jl)">Default Build (Conda.jl)</a><a id="Default-Build-(Conda.jl)-1"></a><a class="docs-heading-anchor-permalink" href="#Default-Build-(Conda.jl)" title="Permalink"></a></h2><p>By default cuNumeric.jl will use <a href="https://github.com/JuliaPy/Conda.jl">Conda.jl</a> to install cupynumeric inside of your <code>.julia</code> folder. This will create an environment called cupynumeric. To use this build option simply run:</p><pre><code class="nohighlight hljs">Pkg.add(url = &quot;https://github.com/ejmeitz/cuNumeric.jl&quot;)</code></pre><p>If you previously used a custom build and would like to revert back to using Conda.jl run the following command in the directory containing the Project.toml of your environment. The &quot;Custom Builds&quot; section discusses the CNPreferences module in more detail.</p><pre><code class="language-julia hljs">julia --project -e &#39;using CNPreferences; CNPreferences.use_conda_jl()&#39;</code></pre><h2 id="Link-Against-Existing-Conda-Environment"><a class="docs-heading-anchor" href="#Link-Against-Existing-Conda-Environment">Link Against Existing Conda Environment</a><a id="Link-Against-Existing-Conda-Environment-1"></a><a class="docs-heading-anchor-permalink" href="#Link-Against-Existing-Conda-Environment" title="Permalink"></a></h2><p>To update <code>LocalPreferences.toml</code> so that a local conda environment is used as the binary provider for cupynumeric run the following command. <code>env_path</code> should be the absolute path to the conda environment (e.g., the value of CONDA_PREFIX when your environment is active). For me this path is: <code>/home/emeitz/.conda/envs/cunumeric-gpu</code>.</p><pre><code class="language-julia hljs">julia --project -e &#39;using CNPreferences; CNPreferences.use_existing_conda_env(&quot;&lt;env-path&gt;&quot;)&#39;</code></pre><p>!!!note     You might see the <code>conda_jl_env</code> key in your <code>LocalPreferences.toml</code> even if the mode is set to <code>local_env</code>. This is completely normal and is just a past setting that will be ignored.</p><p>A common reason to link against an existing environment is to avoid cupynumeric re-installing the entire CUDA toolkit. To make your own conda environment built off an existing CUDA install run the following with whatever version of CUDA is on the <code>LD_LIBRARY_PATH</code> in place of 12.2.</p><pre><code class="language-bash hljs">conda create --name myenv 
conda activate myenv
CONDA_OVERRIDE_CUDA=&quot;12.2&quot; \
  conda install -c conda-forge -c legate cupynumeric</code></pre><h3 id="BinaryBuilder"><a class="docs-heading-anchor" href="#BinaryBuilder">BinaryBuilder</a><a id="BinaryBuilder-1"></a><a class="docs-heading-anchor-permalink" href="#BinaryBuilder" title="Permalink"></a></h3><p>This approach is not implemented yet. We hope to have this feature soon!</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.1 on <span class="colophon-date" title="Monday 17 February 2025 08:18">Monday 17 February 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
